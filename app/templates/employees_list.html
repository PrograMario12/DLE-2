{% extends 'base/base.html' %}

{% block title %}Lista de Empleados{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/employees_styles.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <h1>Lista de Empleados</h1>
    
    <div class="search-bar">
        <form action="{{ url_for('main.employees_list') }}" method="get">
            <input type="text" name="search" class="search-input" placeholder="Buscar por ID..." value="{{ search }}">
            <button type="submit" class="search-button">Buscar</button>
        </form>
    </div>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Apellidos</th>
                <th>Línea</th>
            </tr>
        </thead>
        <tbody>
            {% for emp in employees %}
            <tr>
                <td>{{ emp.id }}</td>
                <td>{{ emp.nombre }}</td>
                <td>{{ emp.apellidos }}</td>
                <td>{{ emp.line_name if emp.line_name else "En construcción" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="pagination">
        {% if pagination.page > 1 %}
        <a href="{{ url_for('main.employees_list', page=pagination.page-1, search=search) }}" class="page-link">&laquo; Anterior</a>
        {% else %}
        <span class="page-link disabled">&laquo; Anterior</span>
        {% endif %}

        <span class="page-info">Página {{ pagination.page }} de {{ pagination.total_pages }}</span>

        {% if pagination.page < pagination.total_pages %}
        <a href="{{ url_for('main.employees_list', page=pagination.page+1, search=search) }}" class="page-link">Siguiente &raquo;</a>
        {% else %}
        <span class="page-link disabled">Siguiente &raquo;</span>
        {% endif %}
    </div>
</div>
{% endblock %}